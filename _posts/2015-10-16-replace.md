---
layout: post_page
title: Replace/remove values in R using grep, gsub, sqldf
---

NA

	#replace NA with 0
	df$column[is.na(df$column)] <- 0

gsub

	#search for "yes", replace with "maybe" in df$column
	df$column<-gsub(pattern = "yes", replacement = "maybe", df$column)

	#remove everything before and including "#" in df$column
	df$column<-gsub("^.*\\#", "", df$column)

	#remove everything after ":"
	df$column<-gsub( ":.*$", "", df$column)

	#remove everything before space
	df$column<-gsub(".* ", "", df$column)

	#remove bracket
	df$column<-gsub("\\[|\\]","",df$column)

	#remove "." from column names of dataframe df
	colnames(df) <- gsub("\\.","",colnames(df))

grep

	#where colon in df$column, remove. Notice escape slashes
	df <- df[-grep("\\:",df$column),]

	#where "meow" in df$column, remove
	df <- df[-grep("meow",df$column),]

	#where "_A" in df$column, replace with A
	df$column[grepl("_A",df$column,ignore.case=FALSE)]<-"A"

sqldf

	df<-sqldf(c("update df
		set cats=16
		where ishungry='yes'","select * from df"))

	df<-sqldf(c("update dfnew
		set ishungry='no' 
		where type in ('calico','tabby') 
		and cats>=12","select * from df"))

	#new column named "open" if opendate contains 2015 then 1 else 0
	df<-sqldf("select *, 
		case when opendate like '%2015%' then 1
		else 0
		end as open
		from df")
	